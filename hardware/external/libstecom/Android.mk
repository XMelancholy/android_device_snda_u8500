LOCAL_PATH := $(call my-dir)

ifneq ($(BOARD_USES_STE_HARDWARE),true)

include $(CLEAR_VARS)

LOCAL_SRC_FILES := \
   stecom.c \
   subscribe.c

LOCAL_MODULE := libstecom
LOCAL_MODULE_TAGS := optional
LOCAL_PRELINK_MODULE:= false

LOCAL_CFLAGS := -DSW_VARIANT_ANDROID

LOCAL_SHARED_LIBRARIES := \
   libcutils

include $(BUILD_SHARED_LIBRARY)


else
############# BOARD_USES_STE_HARDWARE

include $(CLEAR_VARS)
LOCAL_MODULE := libstecom
LOCAL_MODULE_TAGS := optional
LOCAL_MODULE_CLASS := SHARED_LIBRARIES
LOCAL_MODULE_PATH := $(TARGET_OUT_SHARED_LIBRARIES)
LOCAL_SRC_FILES := pre_built/$(LOCAL_MODULE).so
LOCAL_MODULE_SUFFIX := .so
OVERRIDE_BUILT_MODULE_PATH := $(TARGET_OUT_INTERMEDIATE_LIBRARIES)
include $(BUILD_PREBUILT)

endif
